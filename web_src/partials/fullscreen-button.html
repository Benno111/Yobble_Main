<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  :root{
    color-scheme: dark;
  }
  body{
    margin:0;
    padding:0;
    background:transparent;
    font-family:"Space Grotesk","IBM Plex Sans","Segoe UI",sans-serif;
  }
  button{
    width:100%;
    height:100%;
    border:1px solid rgba(40,48,67,.8);
    background:rgba(20,26,36,.8);
    color:#edf1ff;
    font-size:11px;
    line-height:1;
    border-radius:999px;
    cursor:pointer;
  }
  button[disabled]{
    cursor:default;
    opacity:.55;
  }
</style>
</head>
<body>
<button id="btn" type="button">Fullscreen</button>
<script>
  const btn = document.getElementById("btn");
  const post = (type, payload = {}) => {
    window.parent.postMessage({ type, payload }, "*");
  };
  window.addEventListener("message", (event) => {
    const { type, payload } = event.data || {};
    if(type === "fullscreen:state"){
      btn.textContent = payload.isFullscreen ? "Exit" : "Full";
    }
    if(type === "fullscreen:enabled"){
      btn.disabled = !payload.enabled;
      btn.title = payload.enabled ? "" : "Fullscreen not supported";
    }
  });
  btn.addEventListener("click", () => {
    post("fullscreen:toggle");
  });
</script>
</body>
</html>
